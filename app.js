const { createBot, createProvider, createFlow, addKeyword } = require('@bot-whatsapp/bot')

const QRPortalWeb = require('@bot-whatsapp/portal')
const BaileysProvider = require('@bot-whatsapp/provider/baileys')
const MockAdapter = require('@bot-whatsapp/database/mock')




const flowotroda1 = addKeyword(['1']).addAnswer(['Describenos a detalle el Bloqueo o envianos una foto'])


const flowremoto = addKeyword(['2']).addAnswer(
    [
        '‚ö°Ô∏èHey que m√°s ps, para que empecemos con el servicio remoto descarga el siguiente programa ‚ö°Ô∏è',
        '\n ‚úÖ https://www.ultraviewer.net/en/download.html',
        '\nüôÉ Escribe *Inicio* para volver al Menu'])


const flowasesor = addKeyword(['3']).addAnswer(['üìÑ Nuestros asesores te responderan de 9:00 AM a 7:00 PM. ',
   ' \n Por favor escribe tu consulta'])

   

   const flowcuentaxia = addKeyword(['1']).addAnswer(
    [
        '‚ö°Ô∏èLos Precios de las cuentas de google varian en la versi√≥n que tenga‚ö°Ô∏è',
        '\n Para ver la Versi√≥n el celular debe de estar formateado y en el inicio "*primera pantalla cuando prende*" ',
        '\n MIUI 12 $10 ',
        '\n MIUI 13 $20 ',
        '\n MIUI 14 $25 ',
        '\n MIUI HyperOS $30 ',
        '\n Aca encontras un ejemplo de las versi√≥nes ',
        '‚úÖ  https://team-khcompany.com/xiaomi.jpg',
        '\nüôÉ Escribe *Inicio* para volver al Menu'])


        const flowcuentaxiami = addKeyword(['2']).addAnswer(
            [
                '‚ö°Ô∏èPrecios de las cuentas de Xiaomi varian en la versi√≥n que tenga‚ö°Ô∏è',
                '\n Estos Son los Precios del *Bypass* ',
                '\n MIUI 12 $35 ',
                '\n MIUI 13 $35 ',
                '\n MIUI 14 $60 ',
                '\n MIUI HyperOS $60 ',
                '\n Estos Son los Precios del *raiz* ',
                '\n *TODAS LAS CUENTAS DE RAIZ CUESTAN $130*  NO IMPORTA LA VERSI√ìN NI EL CELULAR ',
                '\n Aca encontras un ejemplo del bloqueo de la cuenta Xiaomi ',
                '‚úÖ  https://team-khcompany.com/cuentami.jpg',
                '\nüôÉ Escribe *Inicio* para volver al Menu'])

                const flownopagomi = addKeyword(['3']).addAnswer(
                    [
                    '‚ö°Ô∏è Precios De No Pago Xiaomi ‚ö°Ô∏è',
                '\n Candado de Claro $50 ',
                '\n Payjoy $60 ',
                '\n Credi Minuto $60 ',
                '\n Credi Smart $60 ',
                '\n Credi Wom $60 ',
                '\n Bloqueo Administrativo $60 ',   
                '\n üëâ *1*- Otro Bloqueo ', 
            
                    ],
                    null,
                    null,
                    [flowotroda1]
                )

                const flowflasheomi = addKeyword(['4']).addAnswer(
                    [
                        '‚ö°Ô∏èPrecios Flasheo de Xiaomi varian en la gama del dispositivo‚ö°Ô∏è',
                        '\n GAMA BAJA  $10 ',
                        '\n GAMA MEDIA $20 ',
                        '\n GAMA ALTA $30 ',
                        '\n *NOTA:* ',
                        '‚ö†Ô∏è En la gama media y alta de o no de el flasheo hay que pagarlo ya que consume creditos al hacer el servici√≥ ‚ö†Ô∏è',
                        '\n ‚ö†Ô∏è *EL FLASHEO NO BORRA CUENTA DE GOOGLE NI CUENTAS XIAOMI* ‚ö†Ô∏è',
                        '\n ‚ö†Ô∏è *SI EL CELULAR FUE LIBERADO EN EL FLASHEO SE PIERDE LA LIBERADA* ‚ö†Ô∏è  ', 
                        '\nüôÉ Escribe *Inicio* para volver al Menu'])    
               


   const flowdirecc = addKeyword(['4']).addAnswer(
    [
        '‚ö°Ô∏èHey que m√°s ps, Nos encontraras en el *Centro Comercial Verecruz* en el Local *109* Burbuja *5* de 9:00 AM a 7:00 PM. De Lunes A Sabado‚ö°Ô∏è',
        '\n ‚úÖ https://maps.app.goo.gl/zTEMxnzoijsFid879',
        '\nüôÉ Escribe *Inicio* para volver al Menu'])


        const flowhora = addKeyword(['5']).addAnswer(
            [
                '‚ö°Ô∏èHey que m√°s ps, Nuestro Horario de Atenci√≥n es de 9:00 AM a 7:00 PM. De Lunes A Sabado‚ö°Ô∏è',
                '\n ‚úÖ Te Esperamos Pronto ‚ö°Ô∏è',
                '\nüôÉ Escribe *Inicio* para volver al Menu'])
        
    

const flowBypass6ax = addKeyword(['1']).addAnswer(
    [ 'Nota importante ü§ñ estos precios son solo para los iPhone que ',
         'est√°n pidiendo pin o est√°n en desactivado si ya es flasheado ',
        ' en ‚Äúhola‚Äù los precios son diferentes.',
'Precios bypass ',
'\n iPhone 6 $35',
'iPhone 6 Plus $35 ',
'iPhone 6s #50',
'iPhone 6s Plus $50',
'iPhone 7 $50',
'iPhone 7 Plus $50 ',
'iPhone 8 $80',
'iPhone 8 Plus $80',
'iPhone X $80', 
'\nüôÉ Escribe *Inicio* para volver al Menu'])


const flowBypassxsa16 = addKeyword(['2']).addAnswer([' ‚ö†Ô∏è‚ö†Ô∏è*EN EL MOMENTO ESTA CAIDO EL SERVICIO DE BYPASS PERO ESTOS SON LOS PRECIOS QUE HABIAN DISPONIBLES*‚ö†Ô∏è‚ö†Ô∏è',
    ' Precios Bypass Iphone IOS 17 ',
 '‚ö†Ô∏è‚ö†Ô∏èLEER PRIMERO‚ö†Ô∏è‚ö†Ô∏è',
 '1- HAY QUE DEJARLO PAGO 100% Y DEMORA 24 HORAS SE PUEDE REMOTO O F√çSICO ',
 '3- ‚ùå NO PUEDE ESTAR CON BANDAS CERRADAS NI REPORTADO EN COLOMBIA NI EN INTERNACIONAL ',
 '4- SI NO CONOCE SI ESTA CON BANDAS CERRADAS O REPORTADO MANDENOS EL IMEI PARA REVISAR ‚úÖ',
 '\n IPHONE SE 2ND GEN ‚ö°Ô∏è $380.000 ',
 'IPHONE SE 3ND GEN ‚ö°Ô∏è $440.000',
 'IPHONE XR, XS, XSMAX ‚ö°Ô∏è $390.000',
 'IPHONE 11 ‚ö°Ô∏è $440.000',
 'IPHONE 11 PRO ‚ö°Ô∏è $520.000',
 'IPHONE 11 PRO MAX ‚ö°Ô∏è $560.000',
 'IPHONE 12 MINI ‚ö°Ô∏è $430.000',
 'IPHONE 12 ‚ö°Ô∏è $540.000',
 'IPHONE 12 PRO ‚ö°Ô∏è $590.000',
 'IPHONE 12 PRO MAX ‚ö°Ô∏è $630.000',
 'IPHONE 13 MINI ‚ö°Ô∏è $520.000',
 'IPHONE 13 ‚ö°Ô∏è $690.000',
 'IPHONE 13 PRO ‚ö°Ô∏è $730.000',
 'IPHONE 13 ‚ö°Ô∏è  PRO MAX $790.000',
 'IPHONE 14 ‚ö°Ô∏è $770.000',
 'IPHONE 14 PLUS ‚ö°Ô∏è $790.000',
 'IPHONE 14 PRO ‚ö°Ô∏è $840.000',
 'IPHONE 14 PRO MAX ‚ö°Ô∏è $880.000 ',
 '\nüôÉ Escribe *Inicio* para volver al Menu'])


 const flowIcloudraiz = addKeyword(['3']).addAnswer(['‚ö°Ô∏èPrecios iCloud de ra√≠z ‚ö°Ô∏è',
    '*LEA MUY BIEN LA INFORMACI√ìN HAY DOS METODOS*',
    ' lista actualizada.',
  '\n ‚ö†Ô∏è‚ö†Ô∏è M√©todo #1.‚ö†Ô∏è‚ö†Ô∏è  ',
  ' Tasa de efectividad 90%     ',                      
   ' iPhone series X $580.000     ',                  
    ' iPhone series 11 $690.000   ',                    
     ' iPhone series 12 $780.000   ',                        
     '  iPhone series 13 $800.000   ',                    
     '  iPhone series 14 $900.000',                          
     '  En cualquiera de los casos hay que dejarlo pago al 100% y en caso tal de no dar se pierden 100 mil por gastos de plataforma',
      '  - tarda de 7 a 25 d√≠as h√°biles  pero normalmente sale en 7 d√≠as    ',

      '\n ‚ö†Ô∏è‚ö†Ô∏è M√©todo #2.‚ö†Ô∏è‚ö†Ô∏è',
   ' Tasa de efectividad 50%  Todos los iPhone $300.000  Hay que pagar 100.000 que no son devolusibles',
   '  y se demora de 1 a 7 d√≠as y en caso de ser exitoso tiene 24 h para pagar el restante. Leer muy bien ', 
'\nüôÉ Escribe *Inicio* para volver al Menu'])


const flowbandas = addKeyword(['4']).addAnswer(['‚ö°Ô∏è*INFORMACION DE BANDAS DE IPHONE*‚ö°Ô∏è ',

'\n para poder darle una respuesta mas r√°pida a su duda por favor denos la siguiente informaci√≥n',

'1- modelo del dispositivo ',
'2- operador exacto ',
'3- pais de donde viene ',

'\n en caso tal de no saberse el operador de origen cuesta 10 mil solo el averiguar el operador para poderles brindar el precio exacto de las bandas ',

'\n nota: en caso de las bandas ser muy caras hay otra opci√≥n que es por turbo sim hay dos precios ',

'\n 1- la barata que vale 100 - no se configura autom√°tico y cada que se valla la se√±al tienen que configurarla manual ',
'2- la cara que vale 130 - se programa autom√°ticamente cada que se va la se√±al y se programa sola cuando el iphone se actualiza de versi√≥n autom√°tico ',
'\nüôÉ Escribe *Inicio* para volver al Menu'])

const flownoregistroip = addKeyword(['5']).addAnswer([' ‚ö°Ô∏è*INFORMACION DE DESBLOQUEO POR NO REGISTRO*‚ö°Ô∏è ',
    '\n *TIGO* $60 DE 1 A 7 DIAS O $95 DE 1 HORA A 24 HORAS ',
    ' *CLARO* $55 DE 1 A 7 DIAS O $85 DE 1 HORA A 24 HORAS',
    ' *MOVISTAR* $50 DE 1 A 7 DIAS O $80 DE 1 HORA A 24 HORAS',
    ' *MOVIL EXITO, WOM, ETB, PILLO PHONE* $55 DE 1 A 7 DIAS O $90 DE 1 HORA A 24 HORAS',
    '\nüôÉ Escribe *Inicio* para volver al Menu'])

const flowturbo = addKeyword(['6']).addAnswer(['‚ö°Ô∏è*INFORMACION DE TURBO SIM DE IPHONE*‚ö°Ô∏è ',
    
    '\n 1- la barata que vale 100 - no se configura autom√°tico y cada que se valla la se√±al tienen que configurarla manual ',
    '2- la cara que vale 130 - se programa autom√°ticamente cada que se va la se√±al y se programa sola cuando el iphone se actualiza de versi√≥n autom√°tico ',
    '\nüôÉ Escribe *Inicio* para volver al Menu'])



    const flowflasheoapple = addKeyword(['7']).addAnswer(
        [
            '‚ö°Ô∏è Precio Flasheo de Iphone, Ipad, Ipod. ‚ö°Ô∏è',
            '\n *TODOS LOS FLASHEOS DE DISPOSITIVOS APPLE CUESTAN*  $10 ',
            '\n *NOTA:* ',
            ' ‚ö†Ô∏è *EL FLASHEO NO BORRA LA CUENTA DE ICLOUD* ‚ö†Ô∏è',
            '\n ‚ö†Ô∏è *SI LE HICIERON BANDAS TEMPORALES SE REBLOQUEARA AL ESTADO ORIGINAL* ‚ö†Ô∏è',
            '\n ‚ö†Ô∏è *SI EL CELULAR TENIA BYPASS QUEDA BLOQUEADO* ‚ö†Ô∏è  ', 
            '\nüôÉ Escribe *Inicio* para volver al Menu'])


const flowotroda = addKeyword(['8']).addAnswer(['Describenos a detalle el da√±o a consultar'])




const flowclases = addKeyword(['6']).addAnswer(
    [
        '‚ö°Ô∏è La mejor forma de predecir el futuro es crearlo ‚ö°Ô∏è',
        '\n ‚ö°Ô∏è Capac√≠tate como t√©cnico en software de dispositivos m√≥viles ‚ö°Ô∏è',
        '\n ‚úÖ https://team-khcompany.com/#pricing',
         '\nüôÉ Escribe *Inicio* para volver al Menu'])       





const flowcuenta = addKeyword(['7']).addAnswer(['üëâ #42049019682 ahorros bancolombia ',
'üëâ #3012815011 nequi ',

'üëç Favor mandar comprobante ',

'‚ö° Gracias por confiar en KHCOMPANY',
'\nüôÉ Escribe *Inicio* para volver al menu',
    ])


    const flowxiaomi = addKeyword(['2']).addAnswer(
        [
            'A continuacion selecione el numero del servicio que quieres consultar',
            '\nüëâ *1-* Cuenta Google ',
            'üëâ *2-* Cuenta Xiaomi ',
            'üëâ *3-* Bloqueo Por No Pago ',
            'üëâ *4-* Flasheo ',
                    
        ],
        null,
        null,
        [flowcuentaxia, flowcuentaxiami, flownopagomi, flowflasheomi]
    )




const flowApple = addKeyword(['1']).addAnswer(
    [
        'A continuacion selecione el numero del servicio que quieres consultar',
        '\n üëâ *1-* Bypass del 6 al X ',
        'üëâ *2-* Bypass del Xs al 15 ',
        'üëâ *3-* Icloud Raiz ',
        'üëâ *4-* Bandas',
        'üëâ *5-* Bloqueo Por no Registro ',
        'üëâ *6-* Turbo sim', 
        'üëâ *7-* Flasheo',   
        'üëâ *8*- Otro Da√±o ',         
    ],
    null,
    null,
    [flowBypass6ax, flowIcloudraiz, flowbandas, flownoregistroip, flowturbo, flowotroda, flowflasheoapple, flowBypassxsa16]
)




// Inicio  opciones primer menu 
const flowmarcas = addKeyword(['1']) 
.addAnswer(
    [
        'A continuacion selecione el numero de la marca que quieres consultar',
        '\nüëâ *1-* Apple ',
        'üëâ *2-* Xiaomi ',
       
           
            
    ],
    null,
    null,
    [flowApple, flowxiaomi]
)



// este es el principal donde vamos a resivir todo el flujo
const flowPrincipal = addKeyword(['hola', 'ole', 'oe', 'hablalo', 'oelo', 'mijo', 'inicio'])
    .addAnswer('üôå Hey que mas ps bienvenido a ‚ö°*TEAM-KHCOMPANY*üòé')
    .addAnswer('Por favor, haznos saber c√≥mo podemos ayudarte.')
    .addAnswer(
        [
            'A continuacion selecione el numero a consultar',
            '\nüëâ *1-* Cotizar Reparaci√≥n ',
            'üëâ *2*- Solicitar Reparaci√≥n Remota ',
            'üëâ *3-* Quiero Hablar Con Un *Asesor*',
            'üëâ *4-* Conocer Nuestra Direcci√≥n ',
            'üëâ *5-* Conocer Nuestro Horario De Atenci√≥n',
            'üëâ *6-* Cotizar Clases Online ',
            'üëâ *7-* Cuentas Para Consignar',
           
        ],
        null,
        null,
        [flowmarcas, flowremoto, flowasesor, flowdirecc, flowhora, flowclases, flowcuenta]
    )


const main = async () => {
    const adapterDB = new MockAdapter()
    const adapterFlow = createFlow([flowPrincipal])
    const adapterProvider = createProvider(BaileysProvider)

    createBot({
        flow: adapterFlow,
        provider: adapterProvider,
        database: adapterDB,
    })

    QRPortalWeb()
}

main()
